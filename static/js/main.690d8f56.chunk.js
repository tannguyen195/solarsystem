(this.webpackJsonpsolarsystem=this.webpackJsonpsolarsystem||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n.n(a),r=n(29),o=n.n(r),c=(n(38),n(7)),s=(n(39),n(11)),u=n(45),l=n(46),j=n(47),b=n(10),m=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=function(e){return i(e.wheelDeltaY>0)};return window.addEventListener("wheel",e),function(){window.removeEventListener("wheel",e)}}),[]),n},d=n(20),f=n.n(d),O=n(5),h=function(e,t){return{activeMesh:{},setActiveMesh:function(){e((function(e){return{activeMesh:e}}))},shouldUpdate:!0,setShouldUpdate:function(){e((function(){return{shouldUpdate:!1}}))},activeMeshName:"Ship",cameraPos:[0,0,-1],cameraRos:[0,0,0],targetPosition:new O.Vector3(-.26,.57,0)}},x=f()((function(e,t){return Object(c.a)({},h(e,t))}));var v=function(){var e=m();Object(a.useRef)(),Object(s.e)().scene,console.log(e);var t=x((function(e){return e.cameraPos})),n=x((function(e){return e.cameraRos})),i=Object(a.useState)([0,0,0]),r=Object(b.a)(i,2),o=(r[0],r[1]),c=Object(a.useState)([0,0,0]),u=Object(b.a)(c,2),l=(u[0],u[1]);return Object(a.useEffect)((function(){o(t),l(n)}),[t,n]),null},p=n(8),g=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ambientLight",{intensity:.7}),Object(p.jsx)("pointLight",{castShadow:!0,"shadow-bias":.01,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048})]})},z=n(0),M=n(1),P=n(2),y=n(3),R=function(e){Object(P.a)(n,e);var t=Object(y.a)(n);function n(){return Object(z.a)(this,n),t.call(this,{uniforms:{uTime:{value:0},uPixelRatio:{value:Math.min(window.devicePixelRatio,2)},uSize:{value:5e3}},vertexShader:"\n      uniform float uPixelRatio;\n      uniform float uSize;\n      uniform float uTime;\n      attribute float aScale;    \n      attribute vec3 color;\n      varying vec3 vColor;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        modelPosition.y += sin(uTime + modelPosition.x * 100.0) * aScale * 0.2 * 20.0;\n        modelPosition.z += cos(uTime + modelPosition.x * 100.0) * aScale * 0.2 * 20.0;\n        modelPosition.x += cos(uTime + modelPosition.x * 100.0) * aScale * 0.2 * 20.0;\n        vec4 viewPosition = viewMatrix * modelPosition;\n        vec4 projectionPostion = projectionMatrix * viewPosition;    \n        gl_Position = projectionPostion;\n        gl_PointSize = uSize * aScale * uPixelRatio ;\n        gl_PointSize *= (1.0 / - viewPosition.z);\n        vColor = color;\n      }",fragmentShader:"\n      varying vec3 vColor;\n      void main() {\n        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n        float strength = 0.05 / distanceToCenter - 0.1;\n        \n        gl_FragColor = vec4(vColor, strength);\n      }"})}return Object(M.a)(n,[{key:"time",get:function(){return this.uniforms.uTime.value},set:function(e){this.uniforms.uTime.value=e}}]),n}(O.ShaderMaterial);function S(e){var t=e.count,n=void 0===t?40:t,i=e.scale,r=e.position,o=Object(a.useRef)(),c=Object(a.useMemo)((function(){for(var e=new Float32Array(3*n),t=new Float32Array(n),a=new Float32Array(3*n),i=0;i<n;i++)new O.Vector3(4*(Math.random()-.5),1.5*Math.random()*2,4*(Math.random()-.5)).toArray(e,3*i),t[i]=Math.random(),new O.Vector3(215-10*Math.random()*3,215-10*Math.random()*10,10*Math.random()).toArray(a,3*i);return[e,t,a]}),[n]),u=Object(b.a)(c,3),l=u[0],j=u[1],m=u[2];return console.log("positionArray",l),Object(s.c)((function(e,t){o.current.time+=t/2})),Object(p.jsxs)("points",{position:r,scale:i,children:[Object(p.jsxs)("bufferGeometry",{children:[Object(p.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:n,array:l,itemSize:3}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","aScale"],count:n,array:j,itemSize:1}),Object(p.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:n,array:m,itemSize:3})]}),Object(p.jsx)("fireflyMaterial",{ref:o,transparent:!0,depthWrite:!1})]},n)}Object(s.b)({FireflyMaterial:R});var w=n(33);Object(s.b)({OrbitControls:w.a});var T=function(){var e,t=Object(a.useRef)(),n=Object(s.e)(),i=n.camera,r=n.gl,o=n.scene;return Object(s.c)((function(e){e.orbitControls})),Object(a.useEffect)((function(){}),[null===(e=o.orbitControls)||void 0===e?void 0:e.position0]),Object(p.jsx)("orbitControls",{ref:t,attach:"orbitControls",args:[i,r.domElement]})},_=109,C=[{name:"earth",texture:"/texture_earth_clouds.jpg",orbitRate:365.2565,rotationRate:-.015,distance:124,size:1,axialTilt:[Math.PI/180*23.4,0,0]},{name:"moon",texture:"/texture_moon.jpeg",orbitRate:29.5,rotationRate:-.01,distance:1.8,size:1/3.667,axialTilt:[Math.PI/180*6.68,0,0]},{name:"mercury",texture:"/texture_mercury.jpeg",orbitRate:87.969,rotationRate:-.0061,distance:114.7,size:1/2.6114,axialTilt:[Math.PI/180*.01,0,0]},{name:"venus",texture:"/texture_venus.jpeg",orbitRate:225,rotationRate:6172839e-11,distance:119.8,size:1/1.05292553191,axialTilt:[Math.PI/180*2.64,0,0]},{name:"mars",texture:"/texture_mars.jpeg",orbitRate:687,rotationRate:-.015,distance:131.7,size:.53,axialTilt:[Math.PI/180*25.19,0,0]},{name:"jupiter",texture:"/texture_jupiter.jpeg",orbitRate:4333,rotationRate:-.036,distance:197.8,size:10.97,axialTilt:[Math.PI/180*3.12,0,0]},{name:"saturn",texture:"/texture_saturn.jpeg",orbitRate:10759,rotationRate:-.03529,distance:252.4,size:9.14,axialTilt:[Math.PI/180*26.73,0,0]},{name:"uranus",texture:"/texture_uranus.jpeg",orbitRate:30660,rotationRate:-.0211,distance:396.3,size:3.98,axialTilt:[Math.PI/180*82.23,0,0]},{name:"neptune",texture:"/texture_uranus.jpeg",orbitRate:60266,rotationRate:-.0225,distance:559.1,size:3.86,axialTilt:[Math.PI/180*28.33,0,0]}],D=.1,I=[{size:C[0].distance+D,innerDiameter:C[0].distance-D,facets:320,color:16777215,name:"earthOrbit",distance:0},{size:C[1].distance+D,innerDiameter:C[1].distance-D,facets:320,color:16777215,name:"moonOrbit",distance:0},{size:C[2].distance+D,innerDiameter:C[2].distance-D,facets:320,color:16777215,name:"mercuryOrbit",distance:0},{size:C[3].distance+D,innerDiameter:C[3].distance-D,facets:320,color:16777215,name:"venusOrbit",distance:0},{size:C[4].distance+D,innerDiameter:C[4].distance-D,facets:320,color:16777215,name:"marsOrbit",distance:0},{size:C[5].distance+D,innerDiameter:C[5].distance-D,facets:320,color:16777215,name:"jupiterOrbit",distance:0},{size:C[6].distance+D,innerDiameter:C[6].distance-D,facets:320,color:16777215,name:"saturnOrbit",distance:0},{size:C[7].distance+D,innerDiameter:C[7].distance-D,facets:320,color:16777215,name:"uranusOrbit",distance:0},{size:C[8].distance+D,innerDiameter:C[8].distance-D,facets:320,color:16777215,name:"neptuneOrbit",distance:0}];function A(){return C.map((function(e){return Object(p.jsx)(E,Object(c.a)({},e),e.name)}))}function F(){return I.map((function(e){return Object(p.jsx)(L,Object(c.a)({},e),e.name)}))}function B(){var e=Object(u.a)({map:"/solarsystem/texture_sun.jpeg"});return Object(p.jsxs)("mesh",{position:[0,0,0],children:[Object(p.jsx)("sphereBufferGeometry",{args:[_,48,48]}),Object(p.jsx)("meshPhongMaterial",Object(c.a)({attach:"material"},e))]})}function E(e){var t=e.name,n=e.rotationRate,i=e.orbitRate,r=e.size,o=e.texture,l=e.distance,j=e.axialTilt,b=Object(u.a)({map:"/solarsystem"+o}),m=Object(a.useRef)();return Object(s.c)((function(e){var a=e.scene,r=Date.now();if(m.current.rotation.y+=n,m.current.position.x=Math.sin(r*(1/(200*i))+10)*l,m.current.position.z=Math.cos(r*(1/(200*i))+10)*l,"moon"===t){var o,c=null===(o=a.getObjectByName("earth"))||void 0===o?void 0:o.position;m.current.position.x=m.current.position.x+c.x,m.current.position.z=m.current.position.z+c.z}})),Object(p.jsxs)("mesh",{rotation:j,name:t,position:[l,0,0],ref:m,children:[Object(p.jsx)("sphereBufferGeometry",{args:[r,48,48]}),Object(p.jsx)("meshStandardMaterial",Object(c.a)({attach:"material"},b))]})}function L(e){var t=e.size,n=e.innerDiameter,a=e.facets,i=e.color,r=e.name,o=e.distance;return Object(p.jsxs)("mesh",{name:r,rotation:[Math.PI/2,0,0],position:[o,0,0],children:[Object(p.jsx)("ringBufferGeometry",{args:[t,n,a]}),Object(p.jsx)("meshStandardMaterial",{attach:"material",side:O.DoubleSide,color:i})]})}function k(){var e=Object(a.useRef)(),t=Object(u.a)({map:"/solarsystem/texture_jupiter.jpeg"});return Object(s.c)((function(t){var n,a=null===(n=t.scene.getObjectByName("saturn"))||void 0===n?void 0:n.position;e.current.position.x=a.x,e.current.position.z=a.z})),Object(p.jsxs)("mesh",{ref:e,position:[0,0,0],name:"saturnRing",rotation:[Math.PI/2*-26.73,0,0],children:[Object(p.jsx)("torusBufferGeometry",{args:[20,4,2,50]}),Object(p.jsx)("meshBasicMaterial",Object(c.a)(Object(c.a)({attach:"material"},t),{},{side:O.DoubleSide}))]})}var G=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.a,{colorManagement:!0,style:{background:"#232323"},camera:{position:[30,-30,30],near:.001,far:1e5},children:[Object(p.jsx)(g,{}),Object(p.jsx)(v,{}),Object(p.jsx)("axesHelper",{}),Object(p.jsx)(T,{}),Object(p.jsxs)(a.Suspense,{fallback:Object(p.jsx)(l.a,{center:!0,children:Object(p.jsx)(j.a,{})}),children:[Object(p.jsx)(A,{}),Object(p.jsx)(F,{}),Object(p.jsx)(k,{}),Object(p.jsx)(B,{})]}),Object(p.jsx)(S,{position:[0,-400,0],scale:new Array(3).fill(300),count:2e3})]})})};var N=function(){return Object(p.jsx)(G,{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),U()}},[[44,1,2]]]);
//# sourceMappingURL=main.690d8f56.chunk.js.map